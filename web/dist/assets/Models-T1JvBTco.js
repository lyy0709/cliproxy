import{_ as ge,r,a as X,q as Y,o as ye,H as ke,c as a,b as e,f as i,z as j,s as R,p as c,P as Z,L as K,e as v,F as S,x as O,d as xe,t as d,w as q,v as m,M as A,T as H,l as f,E as u,n}from"./index-CQyKkE5B.js";const _e={class:"models-page"},we={class:"tabs-container"},Ce={class:"tabs"},Me={class:"tab-content"},he={class:"table-card"},Ve={class:"card-toolbar"},$e={class:"toolbar-left"},Ue={class:"table-container"},Be={class:"data-table"},De={key:0},Le={class:"model-name-cell"},ze={class:"model-name"},Fe={key:0,class:"badge badge-success"},Se={key:0,class:"display-name"},Oe={class:"col-right"},Ae={class:"mono"},Ee={class:"col-right"},Ie={class:"price-info"},Te={class:"col-center"},je={class:"toggle-switch"},qe=["onUpdate:modelValue","onChange"],He={class:"action-group"},Ne=["onClick"],Pe=["onClick"],Ge={key:0,class:"loading-state"},Re={key:1,class:"empty-state"},Ke={class:"tab-content"},Je={class:"table-card"},Qe={class:"table-container"},We={class:"data-table"},Xe={key:0},Ye={class:"model-code"},Ze={class:"model-code"},el={class:"col-center"},ll={class:"badge badge-info"},sl={class:"description"},tl={class:"col-center"},ol={class:"toggle-switch"},nl=["onUpdate:modelValue","onChange"],al={class:"action-group"},il=["onClick"],dl=["onClick"],rl={key:0,class:"loading-state"},ul={key:1,class:"empty-state"},pl={key:0,class:"cache-stats"},vl={class:"cache-stats-header"},cl={key:0,class:"cache-stats-content"},ml={key:1,class:"no-mappings"},fl={class:"modal modal-lg"},bl={class:"modal-header"},gl={class:"modal-body"},yl={class:"form-row"},kl={class:"form-group"},xl={class:"form-group"},_l={class:"form-row"},wl={class:"form-group"},Cl={class:"form-group"},Ml={class:"form-row"},hl={class:"form-group"},Vl={class:"form-group"},$l={class:"form-row"},Ul={class:"form-group"},Bl={class:"form-group"},Dl={class:"form-row"},Ll={class:"form-group"},zl={class:"form-group"},Fl={class:"form-group"},Sl={class:"form-group"},Ol={class:"form-row three"},Al={class:"form-group"},El={class:"form-group"},Il={class:"toggle-switch large"},Tl={class:"form-group"},jl={class:"toggle-switch large"},ql={class:"modal-footer"},Hl=["disabled"],Nl={key:0,class:"btn-loading"},Pl={class:"modal"},Gl={class:"modal-header"},Rl={class:"modal-body"},Kl={class:"form-group"},Jl={id:"source-models"},Ql=["value"],Wl={class:"form-group"},Xl=["value"],Yl={class:"form-group"},Zl={class:"form-group"},es={class:"form-group"},ls={class:"toggle-switch large"},ss={class:"modal-footer"},ts=["disabled"],os={key:0,class:"btn-loading"},ns={class:"modal modal-sm"},as={class:"modal-body"},is={class:"delete-message"},ds={class:"modal-footer"},rs=["disabled"],us={key:0,class:"btn-loading"},ps={class:"modal modal-sm"},vs={class:"modal-footer"},cs=["disabled"],ms={key:0,class:"btn-loading"},fs={__name:"Models",setup(bs){const g=r("models"),M=r(!1),h=r([]),E=r(""),y=r(!1),I=r(!1),V=r(!1),J={name:"",display_name:"",platform:"claude",provider:"",description:"",category:"chat",context_size:2e5,max_output:8192,input_price:0,output_price:0,cache_create_price:0,cache_read_price:0,enabled:!0,is_default:!1,sort_order:0,aliases:""},o=X({...J}),Q=Y(()=>E.value?h.value.filter(t=>t.platform===E.value):h.value),ee=Y(()=>h.value.filter(t=>t.enabled)),$=r(!1),N=r([]),k=r(!1),T=r(!1),U=r(!1),_=r(null),W={source_model:"",target_model:"",priority:0,description:"",enabled:!0},p=X({...W}),w=r(!1),P=r(""),C=r(null),G=r(""),B=r(!1);function le(t){return t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(0)+"K":t}function se(t){return{claude:"badge-purple",openai:"badge-success",gemini:"badge-info"}[t]||"badge-secondary"}async function D(){M.value=!0;try{const t=await f.getModels();h.value=t.data||[]}catch{u.error("加载模型列表失败")}finally{M.value=!1}}function te(){I.value=!1,Object.assign(o,{...J}),y.value=!0}function oe(t){I.value=!0,Object.assign(o,{...t}),y.value=!0}async function ne(){if(!o.name||!o.platform){u.warning("请填写必填项");return}V.value=!0;try{I.value?(await f.updateModel(o.id,o),u.success("更新成功")):(await f.createModel(o),u.success("创建成功")),y.value=!1,D()}catch(t){u.error(t.message||"操作失败")}finally{V.value=!1}}async function ae(t){try{await f.toggleModel(t.id)}catch{t.enabled=!t.enabled,u.error("切换状态失败")}}function ie(t){C.value=t,G.value="model",P.value=`确定删除模型 "${t.name}" 吗？`,w.value=!0}const L=r(!1),z=r(!1);function de(){L.value=!0}async function re(){z.value=!0;try{await f.resetModels(),u.success("模型已重置为默认配置"),L.value=!1,D()}catch(t){u.error(t.message||"重置失败")}finally{z.value=!1}}async function F(){var t;$.value=!0;try{const l=await f.getModelMappings();N.value=((t=l.data)==null?void 0:t.mappings)||[]}catch{u.error("加载映射列表失败")}finally{$.value=!1}}async function x(){try{const t=await f.getModelMappingCacheStats();_.value=t.data||null}catch(t){console.error("加载缓存统计失败:",t)}}function ue(){T.value=!1,Object.assign(p,{...W}),k.value=!0}function pe(t){T.value=!0,Object.assign(p,{...t}),k.value=!0}async function ve(){if(!p.source_model||!p.target_model){u.warning("请填写必填项");return}U.value=!0;try{T.value?(await f.updateModelMapping(p.id,p),u.success("更新成功")):(await f.createModelMapping(p),u.success("创建成功")),k.value=!1,F(),x()}catch(t){u.error(t.message||"操作失败")}finally{U.value=!1}}async function ce(t){try{await f.toggleModelMapping(t.id),x()}catch{t.enabled=!t.enabled,u.error("切换状态失败")}}function me(t){C.value=t,G.value="mapping",P.value=`确定删除映射 "${t.source_model}" 吗？`,w.value=!0}async function fe(){try{await f.refreshModelMappingCache(),u.success("缓存已刷新"),x()}catch{u.error("刷新缓存失败")}}async function be(){if(C.value){B.value=!0;try{G.value==="model"?(await f.deleteModel(C.value.id),D()):(await f.deleteModelMapping(C.value.id),F(),x()),u.success("删除成功"),w.value=!1,C.value=null}catch{u.error("删除失败")}finally{B.value=!1}}}return ye(()=>{D(),F(),x()}),ke(g,t=>{t==="mappings"&&(F(),x())}),(t,l)=>(n(),a("div",_e,[l[93]||(l[93]=e("div",{class:"page-header"},[e("div",{class:"header-content"},[e("h1",{class:"page-title"},"模型管理"),e("p",{class:"page-subtitle"},"管理 AI 模型配置和模型映射规则")])],-1)),e("div",we,[e("div",Ce,[e("button",{class:R(["tab",{active:g.value==="models"}]),onClick:l[0]||(l[0]=s=>g.value="models")},[...l[33]||(l[33]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polygon",{points:"12,2 2,7 12,12 22,7"}),e("polyline",{points:"2,17 12,22 22,17"}),e("polyline",{points:"2,12 12,17 22,12"})],-1),c(" 模型列表 ",-1)])],2),e("button",{class:R(["tab",{active:g.value==="mappings"}]),onClick:l[1]||(l[1]=s=>{g.value="mappings",F(),x()})},[...l[34]||(l[34]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),e("polygon",{points:"22,2 15,22 11,13 2,9"})],-1),c(" 模型映射 ",-1)])],2)])]),i(e("div",Me,[e("div",he,[e("div",Ve,[e("div",$e,[i(e("select",{"onUpdate:modelValue":l[2]||(l[2]=s=>E.value=s),onChange:D,class:"filter-select"},[...l[35]||(l[35]=[e("option",{value:""},"全部平台",-1),e("option",{value:"claude"},"Claude",-1),e("option",{value:"openai"},"OpenAI",-1),e("option",{value:"gemini"},"Gemini",-1)])],544),[[K,E.value]])]),e("div",{class:"toolbar-actions"},[e("button",{class:"btn btn-outline btn-warning",onClick:de},[...l[36]||(l[36]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"23,4 23,10 17,10"}),e("path",{d:"M20.49 15a9 9 0 11-2.12-9.36L23 10"})],-1),c(" 重置模型 ",-1)])]),e("button",{class:"btn btn-primary",onClick:te},[...l[37]||(l[37]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1),c(" 添加模型 ",-1)])])])]),e("div",Ue,[e("table",Be,[l[41]||(l[41]=e("thead",null,[e("tr",null,[e("th",null,"模型名称"),e("th",null,"平台"),e("th",{class:"col-right"},"上下文"),e("th",{class:"col-right"},"价格 ($/1M)"),e("th",{class:"col-center"},"状态"),e("th",null,"操作")])],-1)),M.value?v("",!0):(n(),a("tbody",De,[(n(!0),a(S,null,O(Q.value,s=>(n(),a("tr",{key:s.id},[e("td",null,[e("div",Le,[e("span",ze,d(s.name),1),s.is_default?(n(),a("span",Fe,"默认")):v("",!0)]),s.display_name?(n(),a("div",Se,d(s.display_name),1)):v("",!0)]),e("td",null,[e("span",{class:R(["badge",se(s.platform)])},d(s.platform),3)]),e("td",Oe,[e("span",Ae,d(le(s.context_size)),1)]),e("td",Ee,[e("div",Ie,[e("span",null,"入: $"+d(s.input_price),1),e("span",null,"出: $"+d(s.output_price),1)])]),e("td",Te,[e("label",je,[i(e("input",{type:"checkbox","onUpdate:modelValue":b=>s.enabled=b,onChange:b=>ae(s)},null,40,qe),[[A,s.enabled]]),l[38]||(l[38]=e("span",{class:"toggle-slider"},null,-1))])]),e("td",null,[e("div",He,[e("button",{class:"action-btn",onClick:b=>oe(s),title:"编辑"},[...l[39]||(l[39]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),e("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)])],8,Ne),e("button",{class:"action-btn danger",onClick:b=>ie(s),title:"删除"},[...l[40]||(l[40]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"3,6 5,6 21,6"}),e("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})],-1)])],8,Pe)])])]))),128))]))]),M.value?(n(),a("div",Ge,[...l[42]||(l[42]=[e("div",{class:"loading-spinner"},null,-1),e("span",null,"加载中...",-1)])])):v("",!0),!M.value&&Q.value.length===0?(n(),a("div",Re,[...l[43]||(l[43]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[e("polygon",{points:"12,2 2,7 12,12 22,7"}),e("polyline",{points:"2,17 12,22 22,17"}),e("polyline",{points:"2,12 12,17 22,12"})],-1),e("span",null,"暂无模型",-1)])])):v("",!0)])])],512),[[Z,g.value==="models"]]),i(e("div",Ke,[l[54]||(l[54]=xe('<div class="info-banner" data-v-2417d68d><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-2417d68d><circle cx="12" cy="12" r="10" data-v-2417d68d></circle><line x1="12" y1="16" x2="12" y2="12" data-v-2417d68d></line><line x1="12" y1="8" x2="12.01" y2="8" data-v-2417d68d></line></svg><span data-v-2417d68d>模型映射允许将客户端请求的模型名自动转换为实际的模型名。例如: claude-3-5-sonnet → claude-sonnet-4-20250514</span></div>',1)),e("div",Je,[e("div",{class:"card-toolbar"},[l[46]||(l[46]=e("span",{class:"toolbar-title"},"映射规则",-1)),e("div",{class:"toolbar-actions"},[e("button",{class:"btn btn-outline",onClick:fe},[...l[44]||(l[44]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"23,4 23,10 17,10"}),e("path",{d:"M20.49 15a9 9 0 11-2.12-9.36L23 10"})],-1),c(" 刷新缓存 ",-1)])]),e("button",{class:"btn btn-primary",onClick:ue},[...l[45]||(l[45]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1),c(" 添加映射 ",-1)])])])]),e("div",Qe,[e("table",We,[l[51]||(l[51]=e("thead",null,[e("tr",null,[e("th",null,"源模型"),e("th",{class:"col-center"}),e("th",null,"目标模型"),e("th",{class:"col-center"},"优先级"),e("th",null,"描述"),e("th",{class:"col-center"},"状态"),e("th",null,"操作")])],-1)),$.value?v("",!0):(n(),a("tbody",Xe,[(n(!0),a(S,null,O(N.value,s=>(n(),a("tr",{key:s.id},[e("td",null,[e("code",Ye,d(s.source_model),1)]),l[50]||(l[50]=e("td",{class:"col-center"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",class:"arrow-icon"},[e("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),e("polyline",{points:"12,5 19,12 12,19"})])],-1)),e("td",null,[e("code",Ze,d(s.target_model),1)]),e("td",el,[e("span",ll,d(s.priority),1)]),e("td",null,[e("span",sl,d(s.description||"-"),1)]),e("td",tl,[e("label",ol,[i(e("input",{type:"checkbox","onUpdate:modelValue":b=>s.enabled=b,onChange:b=>ce(s)},null,40,nl),[[A,s.enabled]]),l[47]||(l[47]=e("span",{class:"toggle-slider"},null,-1))])]),e("td",null,[e("div",al,[e("button",{class:"action-btn",onClick:b=>pe(s),title:"编辑"},[...l[48]||(l[48]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),e("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)])],8,il),e("button",{class:"action-btn danger",onClick:b=>me(s),title:"删除"},[...l[49]||(l[49]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"3,6 5,6 21,6"}),e("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})],-1)])],8,dl)])])]))),128))]))]),$.value?(n(),a("div",rl,[...l[52]||(l[52]=[e("div",{class:"loading-spinner"},null,-1),e("span",null,"加载中...",-1)])])):v("",!0),!$.value&&N.value.length===0?(n(),a("div",ul,[...l[53]||(l[53]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[e("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),e("polygon",{points:"22,2 15,22 11,13 2,9"})],-1),e("span",null,"暂无映射规则",-1)])])):v("",!0)]),_.value?(n(),a("div",pl,[e("div",vl,[e("strong",null,"当前生效的映射 ("+d(_.value.count)+" 条)",1)]),_.value.mappings&&Object.keys(_.value.mappings).length>0?(n(),a("div",cl,[(n(!0),a(S,null,O(_.value.mappings,(s,b)=>(n(),a("span",{key:b,class:"mapping-tag"},d(b)+" → "+d(s),1))),128))])):(n(),a("div",ml,"暂无生效的映射"))])):v("",!0)])],512),[[Z,g.value==="mappings"]]),(n(),j(H,{to:"body"},[y.value?(n(),a("div",{key:0,class:"modal-overlay",onClick:l[20]||(l[20]=q(s=>y.value=!1,["self"]))},[e("div",fl,[e("div",bl,[e("h2",null,d(I.value?"编辑模型":"添加模型"),1),e("button",{class:"modal-close",onClick:l[3]||(l[3]=s=>y.value=!1)},[...l[55]||(l[55]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])]),e("div",gl,[e("div",yl,[e("div",kl,[l[56]||(l[56]=e("label",{class:"form-label"},[c("模型名称 "),e("span",{class:"required"},"*")],-1)),i(e("input",{"onUpdate:modelValue":l[4]||(l[4]=s=>o.name=s),type:"text",class:"form-input",placeholder:"如: claude-3-5-sonnet"},null,512),[[m,o.name]])]),e("div",xl,[l[57]||(l[57]=e("label",{class:"form-label"},"显示名称",-1)),i(e("input",{"onUpdate:modelValue":l[5]||(l[5]=s=>o.display_name=s),type:"text",class:"form-input",placeholder:"如: Claude 3.5 Sonnet"},null,512),[[m,o.display_name]])])]),e("div",_l,[e("div",wl,[l[59]||(l[59]=e("label",{class:"form-label"},[c("平台 "),e("span",{class:"required"},"*")],-1)),i(e("select",{"onUpdate:modelValue":l[6]||(l[6]=s=>o.platform=s),class:"form-select"},[...l[58]||(l[58]=[e("option",{value:"claude"},"Claude",-1),e("option",{value:"openai"},"OpenAI",-1),e("option",{value:"gemini"},"Gemini",-1)])],512),[[K,o.platform]]),l[60]||(l[60]=e("p",{class:"form-tip"},"决定使用哪个 API 处理请求",-1))]),e("div",Cl,[l[61]||(l[61]=e("label",{class:"form-label"},"提供商",-1)),i(e("input",{"onUpdate:modelValue":l[7]||(l[7]=s=>o.provider=s),type:"text",class:"form-input",placeholder:"如: anthropic"},null,512),[[m,o.provider]])])]),e("div",Ml,[e("div",hl,[l[62]||(l[62]=e("label",{class:"form-label"},"上下文长度",-1)),i(e("input",{"onUpdate:modelValue":l[8]||(l[8]=s=>o.context_size=s),type:"number",class:"form-input"},null,512),[[m,o.context_size,void 0,{number:!0}]])]),e("div",Vl,[l[63]||(l[63]=e("label",{class:"form-label"},"最大输出",-1)),i(e("input",{"onUpdate:modelValue":l[9]||(l[9]=s=>o.max_output=s),type:"number",class:"form-input"},null,512),[[m,o.max_output,void 0,{number:!0}]])])]),e("div",$l,[e("div",Ul,[l[64]||(l[64]=e("label",{class:"form-label"},"输入价格",-1)),i(e("input",{"onUpdate:modelValue":l[10]||(l[10]=s=>o.input_price=s),type:"number",step:"0.0001",class:"form-input"},null,512),[[m,o.input_price,void 0,{number:!0}]]),l[65]||(l[65]=e("p",{class:"form-tip"},"$/1M tokens",-1))]),e("div",Bl,[l[66]||(l[66]=e("label",{class:"form-label"},"输出价格",-1)),i(e("input",{"onUpdate:modelValue":l[11]||(l[11]=s=>o.output_price=s),type:"number",step:"0.0001",class:"form-input"},null,512),[[m,o.output_price,void 0,{number:!0}]]),l[67]||(l[67]=e("p",{class:"form-tip"},"$/1M tokens",-1))])]),e("div",Dl,[e("div",Ll,[l[68]||(l[68]=e("label",{class:"form-label"},"缓存写入价格",-1)),i(e("input",{"onUpdate:modelValue":l[12]||(l[12]=s=>o.cache_create_price=s),type:"number",step:"0.0001",class:"form-input"},null,512),[[m,o.cache_create_price,void 0,{number:!0}]]),l[69]||(l[69]=e("p",{class:"form-tip"},"$/1M tokens (可选)",-1))]),e("div",zl,[l[70]||(l[70]=e("label",{class:"form-label"},"缓存读取价格",-1)),i(e("input",{"onUpdate:modelValue":l[13]||(l[13]=s=>o.cache_read_price=s),type:"number",step:"0.0001",class:"form-input"},null,512),[[m,o.cache_read_price,void 0,{number:!0}]]),l[71]||(l[71]=e("p",{class:"form-tip"},"$/1M tokens (可选)",-1))])]),e("div",Fl,[l[72]||(l[72]=e("label",{class:"form-label"},"别名",-1)),i(e("input",{"onUpdate:modelValue":l[14]||(l[14]=s=>o.aliases=s),type:"text",class:"form-input",placeholder:"多个别名用逗号分隔"},null,512),[[m,o.aliases]])]),e("div",Sl,[l[73]||(l[73]=e("label",{class:"form-label"},"描述",-1)),i(e("textarea",{"onUpdate:modelValue":l[15]||(l[15]=s=>o.description=s),class:"form-textarea",rows:"2"},null,512),[[m,o.description]])]),e("div",Ol,[e("div",Al,[l[74]||(l[74]=e("label",{class:"form-label"},"排序",-1)),i(e("input",{"onUpdate:modelValue":l[16]||(l[16]=s=>o.sort_order=s),type:"number",class:"form-input"},null,512),[[m,o.sort_order,void 0,{number:!0}]])]),e("div",El,[l[76]||(l[76]=e("label",{class:"form-label"},"启用",-1)),e("label",Il,[i(e("input",{type:"checkbox","onUpdate:modelValue":l[17]||(l[17]=s=>o.enabled=s)},null,512),[[A,o.enabled]]),l[75]||(l[75]=e("span",{class:"toggle-slider"},null,-1))])]),e("div",Tl,[l[78]||(l[78]=e("label",{class:"form-label"},"默认",-1)),e("label",jl,[i(e("input",{type:"checkbox","onUpdate:modelValue":l[18]||(l[18]=s=>o.is_default=s)},null,512),[[A,o.is_default]]),l[77]||(l[77]=e("span",{class:"toggle-slider"},null,-1))])])])]),e("div",ql,[e("button",{class:"btn btn-secondary",onClick:l[19]||(l[19]=s=>y.value=!1)},"取消"),e("button",{class:"btn btn-primary",disabled:V.value,onClick:ne},[V.value?(n(),a("span",Nl)):v("",!0),c(" "+d(V.value?"保存中...":"保存"),1)],8,Hl)])])])):v("",!0)])),(n(),j(H,{to:"body"},[k.value?(n(),a("div",{key:0,class:"modal-overlay",onClick:l[28]||(l[28]=q(s=>k.value=!1,["self"]))},[e("div",Pl,[e("div",Gl,[e("h2",null,d(T.value?"编辑映射":"添加映射"),1),e("button",{class:"modal-close",onClick:l[21]||(l[21]=s=>k.value=!1)},[...l[79]||(l[79]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])]),e("div",Rl,[e("div",Kl,[l[80]||(l[80]=e("label",{class:"form-label"},[c("源模型 "),e("span",{class:"required"},"*")],-1)),i(e("input",{"onUpdate:modelValue":l[22]||(l[22]=s=>p.source_model=s),type:"text",class:"form-input",placeholder:"客户端请求的模型名",list:"source-models"},null,512),[[m,p.source_model]]),e("datalist",Jl,[(n(!0),a(S,null,O(h.value,s=>(n(),a("option",{key:s.id,value:s.name},d(s.display_name),9,Ql))),128))]),l[81]||(l[81]=e("p",{class:"form-tip"},"客户端请求时使用的模型名称（可输入自定义名称）",-1))]),e("div",Wl,[l[83]||(l[83]=e("label",{class:"form-label"},[c("目标模型 "),e("span",{class:"required"},"*")],-1)),i(e("select",{"onUpdate:modelValue":l[23]||(l[23]=s=>p.target_model=s),class:"form-select"},[l[82]||(l[82]=e("option",{value:"",disabled:""},"请选择目标模型",-1)),(n(!0),a(S,null,O(ee.value,s=>(n(),a("option",{key:s.id,value:s.name},d(s.name)+" "+d(s.display_name?`(${s.display_name})`:""),9,Xl))),128))],512),[[K,p.target_model]]),l[84]||(l[84]=e("p",{class:"form-tip"},"实际发送到上游的模型名称",-1))]),e("div",Yl,[l[85]||(l[85]=e("label",{class:"form-label"},"优先级",-1)),i(e("input",{"onUpdate:modelValue":l[24]||(l[24]=s=>p.priority=s),type:"number",min:"0",max:"100",class:"form-input"},null,512),[[m,p.priority,void 0,{number:!0}]]),l[86]||(l[86]=e("p",{class:"form-tip"},"数值越大优先级越高",-1))]),e("div",Zl,[l[87]||(l[87]=e("label",{class:"form-label"},"描述",-1)),i(e("textarea",{"onUpdate:modelValue":l[25]||(l[25]=s=>p.description=s),class:"form-textarea",rows:"2",placeholder:"映射说明（可选）"},null,512),[[m,p.description]])]),e("div",es,[l[89]||(l[89]=e("label",{class:"form-label"},"启用",-1)),e("label",ls,[i(e("input",{type:"checkbox","onUpdate:modelValue":l[26]||(l[26]=s=>p.enabled=s)},null,512),[[A,p.enabled]]),l[88]||(l[88]=e("span",{class:"toggle-slider"},null,-1))])])]),e("div",ss,[e("button",{class:"btn btn-secondary",onClick:l[27]||(l[27]=s=>k.value=!1)},"取消"),e("button",{class:"btn btn-primary",disabled:U.value,onClick:ve},[U.value?(n(),a("span",os)):v("",!0),c(" "+d(U.value?"保存中...":"保存"),1)],8,ts)])])])):v("",!0)])),(n(),j(H,{to:"body"},[w.value?(n(),a("div",{key:0,class:"modal-overlay",onClick:l[30]||(l[30]=q(s=>w.value=!1,["self"]))},[e("div",ns,[l[90]||(l[90]=e("div",{class:"modal-header danger"},[e("div",{class:"danger-icon"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),e("line",{x1:"9",y1:"9",x2:"15",y2:"15"})])]),e("h2",null,"确认删除")],-1)),e("div",as,[e("p",is,d(P.value),1)]),e("div",ds,[e("button",{class:"btn btn-secondary",onClick:l[29]||(l[29]=s=>w.value=!1)},"取消"),e("button",{class:"btn btn-danger",disabled:B.value,onClick:be},[B.value?(n(),a("span",us)):v("",!0),c(" "+d(B.value?"删除中...":"删除"),1)],8,rs)])])])):v("",!0)])),(n(),j(H,{to:"body"},[L.value?(n(),a("div",{key:0,class:"modal-overlay",onClick:l[32]||(l[32]=q(s=>L.value=!1,["self"]))},[e("div",ps,[l[91]||(l[91]=e("div",{class:"modal-header warning"},[e("div",{class:"warning-icon"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"}),e("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})])]),e("h2",null,"重置为默认模型")],-1)),l[92]||(l[92]=e("div",{class:"modal-body"},[e("p",{class:"reset-message"},[c("此操作将"),e("strong",null,"删除所有现有模型"),c("并恢复为系统默认模型配置。")]),e("p",{class:"reset-warning"},"包含最新的 Claude Code、OpenAI Codex、Gemini CLI 模型及价格配置。")],-1)),e("div",vs,[e("button",{class:"btn btn-secondary",onClick:l[31]||(l[31]=s=>L.value=!1)},"取消"),e("button",{class:"btn btn-warning",disabled:z.value,onClick:re},[z.value?(n(),a("span",ms)):v("",!0),c(" "+d(z.value?"重置中...":"确认重置"),1)],8,cs)])])])):v("",!0)]))]))}},ys=ge(fs,[["__scopeId","data-v-2417d68d"]]);export{ys as default};
